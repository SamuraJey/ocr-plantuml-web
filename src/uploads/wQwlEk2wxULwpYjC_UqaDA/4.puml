@startuml
'https://github.com/lopossumi/brkut/blob/master/documentation/Class%20diagrams/ClassDiagram-2014-12-04.png
'o
class HighscoreIO {
}

class Config {
}

class Main {
}

class Panel {
  logic : Logic
  tick : int
}

class JPanel {
}

class SoundEngine {
  hit()
  died()
}

class Engine {
  gui : GUI
  logic : Logic
  running : boolean
  sounds : SoundEngine
}

class GUI {
  window : JFrame
  logic : Logic
  input : UserInput
  panel : Panel
}

class UserInput {
  keyPresses : boolean
}

enum KeyPressEnum {
  LEFT : int
  RIGHT : int
  SPACE : int
}

enum GameStatusEnum {
  START : int
  RUNNING : int
  WON : int
  DIED : int
  GAMEOVER : int
  HIT : int
  HIGHSCORE : int
}

class Collision {
  getColliders()
  collision()
  clear()
  xOverlap()
  yOverlap()
}

class Logic {
  playerOne : Player
  ball : Ball
  bricks : HashSet<GameObject>
  score : int
  multiplier : double
  highscore : int
  hit : boolean
  launchAllowed : boolean
}

class GameObject {
  x : double
  y : double
  vx : double
  vy : double
  width : double
  height : double
  maxSpeed : double
  color : Color
}

class Player {
  alive : boolean
  lives : int
  kill()
  respawn()
}

class Ball {
  bounceHorizontal()
  bounceVertical()
}

class Brick {
  alive : boolean
  hitpoints : int
  damage()
}

HighscoreIO -- Main
Config -- Main
Engine <-- Main


Panel --|> JPanel
Engine *--> GUI
Engine *--> Logic
Engine *--> SoundEngine
GUI *--> UserInput
UserInput -- KeyPressEnum
GUI *--> Panel

Logic *--> GUI
Logic *--> GameObject

Logic -- GameStatusEnum
Logic -- Collision

GameObject <|-- Player
GameObject <|-- Ball
GameObject <|-- Brick
@enduml