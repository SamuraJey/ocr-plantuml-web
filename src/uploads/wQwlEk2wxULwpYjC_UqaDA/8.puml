@startuml
'https://github.com/Marlekin/DRIUppgift/blob/master/TimeZone/TimeZoneDiagram.jpg
's
package TimeZone{
package "Model" {
  package "timeComp" {
    class "timeComm" {
      +isDomainAvailable(String): Boolean
      +isValidJSON(String): Boolean
    }
    class "StampFetch" {
      -$timestamp: String
      +fetchTimeStamp(String, String): String[]
      +hasDateTime(String[]): Boolean
      +isValidFormat(String): Boolean
      +convertStamp(String): Date
      +getTim eStamp(): String
    }
    class "ZoneFetch" {
      +fetchTimeZones(String): String[]
    }
  }

  package "util" {
    class "ConfigManager" {
      -$config: String[]
      +readConfig(String, String): void
      +getConfig(): String[]
    }
    class "SessionManager" {
      -$session: String
      +startSession(): void
      +stopSession(): void
    }
    class "Logger" {
      +log(): void
    }
  }

  package "dbComp" {
    class "myDB" {
      +selectSQL(String, String, String): String[]
      +insertSQL(String, String, String, String, String): void
    }
    class "MySQLDB" {
      -$dbName: String
      -$tblName: String
      -$zoneCol: String
      -$stampCol: String
      -$dbCount: Integer
      +selectSQL(): void
      +insertSQL(String, String): void
      +truncateSQL(): void
      +getCount(): Integer
      +getZoneColumn(): String
      +getStampColumn(): String
    }
    class "SQLiteDB" {
    }
  }
}

package "Controller" {
  class "TimeController" {
    -$zoneFetch: ZoneFetch
    -$stampFetch: StampFetch
    -$errors: String
    -$errorsCount: Integer
    -$errorString: String
    +communicateWS(String[]): Boolean
    +fetch(String[]): String[]
    +getErrorCount(): Integer
    +getErrorString(): String
    +reportErrors(): String
  }
  class "UtilController" {
    -$timeView: TimeView
    -$timeController: TimeController
    -$dbController: DBController
    -$configManager: ConfigManager
    +start(): void
    +loadConfig(String, String): String[]
    +writeToDB(String, String): void
    +setViewNotice(String, String): void
    +setViewSuccesses(): void
    +setViewErrors(): void
    +logSomething(String, Integer, String, String): void
  }
  class "DBController" {
    -$myDB: undefined
    -$resultString: String
    -$count: Integer
    +setDatabase(String, String): void
    +insertToTable(): void
    +selectFromTable(String): String[]
    +flushTable(): void
    +getSuccessCount(): Integer
    +getSuccessString(): String
    +reportSuccesses(): String
  }
}

package "View" {
  class "TimeView" {
    -$utilController: UtilController
    +showSuccesses(String): void
    +showErrors(String): void
    +showNotice(String): void
  }
}

"TimeController" -- "StampFetch"
"TimeController" -- "ZoneFetch"
"TimeController" -- "timeComm"

"TimeController" -- "UtilController"
"UtilController" -- "DBController"

"UtilController" -...-> "SessionManager" : « dependency »
"UtilController" -...-> "Logger" : « dependency »
"UtilController" --> "ConfigManager"

"DBController" --> "MySQLDB"
"DBController" --> "SQLiteDB"
"MySQLDB" --|> "myDB"
"SQLiteDB" --|> "myDB"
"MySQLDB" --|> "medoo"
"medoo" -- "Database framework"

"TimeView" -- "UtilController"

}
@enduml